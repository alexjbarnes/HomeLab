services:
  conduit:
    image: ghcr.io/alexjbarnes/conduit:dev
    ports:
      - "8080:8080"  # MCP server
      - "8081:8081"  # Admin UI
    environment:
      - CONDUIT_MASTER_KEY=${CONDUIT_MASTER_KEY}
      - CONDUIT_DB_PATH=/data/conduit.db
      - CONDUIT_ADMIN_BIND_ADDR=${CONDUIT_ADMIN_BIND_ADDR}
      - CONDUIT_MCP_PORT=${CONDUIT_MCP_PORT}
      - CONDUIT_ADMIN_PORT=${CONDUIT_ADMIN_PORT}
      - CONDUIT_MCP_URL=${CONDUIT_MCP_URL}
    volumes:
      - conduit-data:/data
    restart: unless-stopped

volumes:
  conduit-data:
